<plugin class="scnr" author="sparky" version="4.0" headersize="0">

<dependency name="DON'T USE" offset="0x00"/>
<dependency name="WON'T USE" offset="0x10"/>
<dependency name="CAN'T USE" offset="0x20"/>

<struct name="Skies" offset="0x30" size="16">
	<dependency name="Sky" offset="0x00"/>
</struct>

<enum16 name="Type" offset="0x3C">
	<option name="Solo" value="0"/>
	<option name="Multiplayer" value="1"/>
	<option name="Main Menu" value="2"/>
</enum16>

<bitmask32 name="Flags" offset="0x3E">
	<option name="Cortana Hack" info="Sort Cortana in front of other transparent geometry" value="31"/>
	<option name="Use Demo UI" info="Uses alternate UI collection for demo" value="30"/>
</bitmask32>

<struct name="Child Scenarios" offset="0x40" size="32">
	<dependency name="Child Scenario" offset="0x00"/>
</struct>

<float name="Local North" note="radians" offset="0x4C"/>

<struct name="Predicted Resources" offset="0xEC" size="8">
	<enum16 name="Type" offset="0x00">
		<option name="Bitmap" value="0"/>
		<option name="Sound" value="1"/>
	</enum16>
		
	<short name="Resource Index" offset="0x02"/>
	<short name="Tag Index" offset="0x04"/>
</struct>

<struct name="Functions" offset="0xF8" size="120">
	<bitmask32 name="Flags" offset="0x00">
		<option name="Scripted" value="31"/>
		<option name="Invert" value="30"/>
		<option name="Additive" value="29"/>
		<option name="Always Active" value="28"/>
	</bitmask32>
	
	<string32 name="Name" offset="0x04"/>
	
	<float name="Period" note="seconds" offset="0x24"/>
	
	<index name="Scale Period by" offset="0x28" reflexive="main:Functions"/>
	
	<enum16 name="Function" offset="0x2A">
		<option name="One" value="00"/>
		<option name="Zero" value="01"/>
		<option name="Cosine" value="02"/>
		<option name="Cosine (variable period)" value="03"/>
		<option name="Diagonal Wave" value="04"/>
		<option name="Diagonal Wave (variable period)" value="05"/>
		<option name="Slide" value="06"/>
		<option name="Slide (variable period)" value="07"/>
		<option name="Noise" value="08"/>
		<option name="Jitter" value="09"/>
		<option name="Wander" value="10"/>
		<option name="Spark" value="11"/>
	</enum16>
	
	<index name="Scale Function by" offset="0x2C" reflexive="main:Functions"/>
	
	<enum16 name="Wobble Function" offset="0x2E">
		<option name="One" value="00"/>
		<option name="Zero" value="01"/>
		<option name="Cosine" value="02"/>
		<option name="Cosine (variable period)" value="03"/>
		<option name="Diagonal Wave" value="04"/>
		<option name="Diagonal Wave (variable period)" value="05"/>
		<option name="Slide" value="06"/>
		<option name="Slide (variable period)" value="07"/>
		<option name="Noise" value="08"/>
		<option name="Jitter" value="09"/>
		<option name="Wander" value="10"/>
		<option name="Spark" value="11"/>
	</enum16>
	
	<float name="Wobble Period" note="seconds" offset="0x30"/>
	<float name="Wobble Magnitude" note="percent" offset="0x34"/>
	<float name="Square Wave Threshold" note="0 - 1 only" offset="0x38"/>
	
	<short name="Step Count" offset="0x3C"/>
	
	<enum16 name="Map to" offset="0x3E">
		<option name="Linear" value="00"/>
		<option name="Early" value="01"/>
		<option name="Very Early" value="02"/>
		<option name="Late" value="03"/>
		<option name="Very Late" value="04"/>
		<option name="Cosine" value="05"/>
	</enum16>
	
	<short name="Sawtooth Count" offset="0x40"/>
	
	<index name="Scale Result by" offset="0x44" reflexive="main:Functions"/>
	
	<enum16 name="Bounds Mode" offset="0x46">
		<option name="Clip" value="00"/>
		<option name="Clip and Normalize" value="01"/>
		<option name="Scale to Fit" value="02"/>
	</enum16>
	
	<float name="Bounds: from" note="0 - 1 only" offset="0x48"/>
	<float name="Bounds: to" note="0 - 1 only" offset="0x4C"/>
	
	<index name="Turn Off with" offset="0x56" reflexive="main:Functions"/>
</struct>

<long name="Editor Scenario Data" note="bytes" offset="0x104"/>

<struct name="Comments" offset="0x118" size="48">
	<float name="Position: x" offset="0x00"/>
	<float name="Position: y" offset="0x04"/>
	<float name="Position: z" offset="0x08"/>
	
	<long name="Comment" note="bytes" offset="0x1C"/>
	<struct name="Comment" info="only use the first, 0001" offset="0x24" size="32">
		<string128 name="Comment" info="sorry, this doesn't parse correctly in Eschaton 0.8.1 :( " offset="0x00"/>
	</struct>
	
</struct>

<struct name="Object Names" offset="0x204" size="36">
	<string32 name="Name" offset="0x00"/>
</struct>

<struct name="Scenery" offset="0x210" size="72">
	<index name="Type" offset="0x00" reflexive="main:Scenery Palette"/>
	<index name="Name" offset="0x02" reflexive="main:Object Names"/>
	
	<bitmask32 name="Not Placed" offset="0x04">
		<option name="Automatically" value="31"/>
		<option name="On Easy" value="30"/>
		<option name="On Normal" value="29"/>
		<option name="On Hard" value="28"/>
	</bitmask32>

	<short name="Desired Permutation" info="if non-zero, will try to use model permutations which end in this number, eg. '7' would pick 'body-7' and 'head-7'" offset="0x06"/>

	<float name="Position: x" offset="0x08"/>
	<float name="Position: y" offset="0x0C"/>
	<float name="Position: z" offset="0x10"/>
	<float name="Rotation: y" note="yaw; radians" offset="0x14"/>
	<float name="Rotation: p" note="pitch; radians" offset="0x18"/>
	<float name="Rotation: r" note="roll; radians" offset="0x1C"/>
</struct>

<struct name="Scenery Palette" offset="0x21C" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Bipeds" offset="0x228" size="120">
	<index name="Type" offset="0x00" reflexive="main:Biped Palette"/>
	<index name="Name" offset="0x02" reflexive="main:Object Names"/>
	
	<bitmask32 name="Not Placed" offset="0x04">
		<option name="Automatically" value="31"/>
		<option name="On Easy" value="30"/>
		<option name="On Normal" value="29"/>
		<option name="On Hard" value="28"/>
	</bitmask32>

	<short name="Desired Permutation" info="if non-zero, will try to use model permutations which end in this number, eg. '7' would pick 'body-7' and 'head-7'" offset="0x06"/>

	<float name="Position: x" offset="0x08"/>
	<float name="Position: y" offset="0x0C"/>
	<float name="Position: z" offset="0x10"/>
	<float name="Rotation: y" note="yaw; radians" offset="0x14"/>
	<float name="Rotation: p" note="pitch; radians" offset="0x18"/>
	<float name="Rotation: r" note="roll; radians" offset="0x1C"/>

	<float name="Body Vitality" note="0 - 1 only" offset="0x48"/>
	
	<bitmask32 name="Flags" offset="0x4C">
		<option name="Dead" value="31"/>
	</bitmask32>
</struct>

<struct name="Biped Palette" offset="0x234" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Vehicle" offset="0x240" size="120">
	<index name="Type" offset="0x00" reflexive="main:Vehicle Palette"/>
	<index name="Name" offset="0x02" reflexive="main:Object Names"/>
	
	<bitmask32 name="Not Placed" offset="0x04">
		<option name="Automatically" value="31"/>
		<option name="On Easy" value="30"/>
		<option name="On Normal" value="29"/>
		<option name="On Hard" value="28"/>
	</bitmask32>

	<short name="Desired Permutation" info="if non-zero, will try to use model permutations which end in this number, eg. '7' would pick 'body-7' and 'head-7'" offset="0x06"/>

	<float name="Position: x" offset="0x08"/>
	<float name="Position: y" offset="0x0C"/>
	<float name="Position: z" offset="0x10"/>
	<float name="Rotation: y" note="yaw; radians" offset="0x14"/>
	<float name="Rotation: p" note="pitch; radians" offset="0x18"/>
	<float name="Rotation: r" note="roll; radians" offset="0x1C"/>

	<float name="Body Vitality" note="0 - 1 only" offset="0x48"/>
	
	<bitmask32 name="Flags" offset="0x4C">
		<option name="Dead" value="31"/>
	</bitmask32>

	<char name="Multiplayer Team Index" note="0 = red; 1 = blue" offset="0x58"/>

	<bitmask32 name="Multiplayer Spawn Flags" offset="0x5A">
		<option name="Slayer Default" info="vehicle will spawn when the default vehicle set is used in a Slayer game" value="31"/>
		<option name="CTF Default" info="vehicle will spawn when the default vehicle set is used in a CTF game" value="30"/>
		<option name="King Default" info="vehicle will spawn when the default vehicle set is used in a KOTH game" value="29"/>
		<option name="Oddball Default" info="vehicle will spawn when the default vehicle set is used in an Oddball game" value="28"/>
		<option name="Unused" value="27"/>
		<option name="Unused" value="26"/>
		<option name="Unused" value="25"/>
		<option name="Unused" value="24"/>
		<option name="Slayer Allowed" info="vehicle can spawn in a Slayer game" value="23"/>
		<option name="CTF Allowed" info="vehicle can spawn in a CTF game" value="22"/>
		<option name="King Allowed" info="vehicle can spawn in a King of the Hill game" value="21"/>
		<option name="Oddball Allowed" info="vehicle can spawn in an Oddball game" value="20"/>
		<option name="Unused" value="19"/>
		<option name="Unused" value="18"/>
		<option name="Unused" value="17"/>
		<option name="Unused" value="16"/>
	</bitmask32>
</struct>

<struct name="Vehicle Palette" offset="0x24C" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Equipment" offset="0x258" size="40">
	<index name="Type" offset="0x00" reflexive="main:Equipment Palette"/>
	<index name="Name" offset="0x02" reflexive="main:Object Names"/>
	
	<bitmask32 name="Not Placed" offset="0x04">
		<option name="Automatically" value="31"/>
		<option name="On Easy" value="30"/>
		<option name="On Normal" value="29"/>
		<option name="On Hard" value="28"/>
	</bitmask32>

	<short name="Desired Permutation" info="if non-zero, will try to use model permutations which end in this number, eg. '7' would pick 'body-7' and 'head-7'" offset="0x06"/>

	<float name="Position: x" offset="0x08"/>
	<float name="Position: y" offset="0x0C"/>
	<float name="Position: z" offset="0x10"/>
	<float name="Rotation: y" note="yaw; radians" offset="0x14"/>
	<float name="Rotation: p" note="pitch; radians" offset="0x18"/>
	<float name="Rotation: r" note="roll; radians" offset="0x1C"/>

	<bitmask32 name="Miscellaneous Flags" offset="0x22">
		<option name="Initially at Rest" info="Doesn't Fall" value="31"/>
		<option name="Obsolete" value="30"/>
		<option name="Does Accelerate" info="Moves Due to Explosions" value="29"/>
	</bitmask32>
</struct>

<struct name="Equipment Palette" offset="0x264" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Weapons" offset="0x270" size="92">
	<index name="Type" offset="0x00" reflexive="main:Weapon Palette"/>
	<index name="Name" offset="0x02" reflexive="main:Object Names"/>
	
	<bitmask32 name="Not Placed" offset="0x04">
		<option name="Automatically" value="31"/>
		<option name="On Easy" value="30"/>
		<option name="On Normal" value="29"/>
		<option name="On Hard" value="28"/>
	</bitmask32>

	<short name="Desired Permutation" info="if non-zero, will try to use model permutations which end in this number, eg. '7' would pick 'body-7' and 'head-7'" offset="0x06"/>

	<float name="Position: x" offset="0x08"/>
	<float name="Position: y" offset="0x0C"/>
	<float name="Position: z" offset="0x10"/>
	<float name="Rotation: y" note="yaw; radians" offset="0x14"/>
	<float name="Rotation: p" note="pitch; radians" offset="0x18"/>
	<float name="Rotation: r" note="roll; radians" offset="0x1C"/>

	<short name="Rounds Left" offset="0x48"/>
	<short name="Rounds Loaded" offset="0x4A"/>

	<bitmask32 name="Miscellaneous Flags" offset="0x4C">
		<option name="Initially at Rest" info="Doesn't Fall" value="31"/>
		<option name="Obsolete" value="30"/>
		<option name="Does Accelerate" info="Moves Due to Explosions" value="29"/>
	</bitmask32>
</struct>

<struct name="Weapon Palette" offset="0x27C" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Device Groups" offset="0x288" size="52">
	<string32 name="Name" offset="0x00"/>

	<float name="Initial Value" note="0 or 1; 1 = active/on/open/up" offset="0x20"/>

	<bitmask32 name="Flags" offset="0x24">
		<option name="Can Change Only Once" value="31"/>
	</bitmask32>
</struct>

<struct name="Machines" offset="0x294" size="64">
	<index name="Type" offset="0x00" reflexive="main:Machine Palette"/>
	<index name="Name" offset="0x02" reflexive="main:Object Names"/>
	
	<bitmask32 name="Not Placed" offset="0x04">
		<option name="Automatically" value="31"/>
		<option name="On Easy" value="30"/>
		<option name="On Normal" value="29"/>
		<option name="On Hard" value="28"/>
	</bitmask32>

	<short name="Desired Permutation" info="if non-zero, will try to use model permutations which end in this number, eg. '7' would pick 'body-7' and 'head-7'" offset="0x06"/>

	<float name="Position: x" offset="0x08"/>
	<float name="Position: y" offset="0x0C"/>
	<float name="Position: z" offset="0x10"/>
	<float name="Rotation: y" note="yaw; radians" offset="0x14"/>
	<float name="Rotation: p" note="pitch; radians" offset="0x18"/>
	<float name="Rotation: r" note="roll; radians" offset="0x1C"/>
	
	<index name="Power Group" info="sets enabled/disabled" offset="0x28" reflexive="main:Device Groups"/>
	<index name="Position Group" info="triggers activation" offset="0x2A" reflexive="main:Device Groups"/>

	<bitmask32 name="Flags 1" offset="0x2C">
		<option name="Initially Open (1.0)" value="31"/>
		<option name="Initially Off (0.0)" value="30"/>
		<option name="Can Change Only Once" value="29"/>
		<option name="Position Reversed" value="28"/>
		<option name="Not Usable From Any Side" value="27"/>
	</bitmask32>

	<bitmask32 name="Flags 2" offset="0x30">
		<option name="Does Not Operate Automatically" value="31"/>
		<option name="One-Sided" value="30"/>
		<option name="Never Appears Locked" value="29"/>
		<option name="Opened By Melee Attack" info="note: instant effect, suddenly snaps to open position upon melee contact" value="28"/>
	</bitmask32>
</struct>

<struct name="Machine Palette" offset="0x2A0" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Controls" offset="0x2AC" size="64">
	<index name="Type" offset="0x00" reflexive="main:Control Palette"/>
	<index name="Name" offset="0x02" reflexive="main:Object Names"/>
	
	<bitmask32 name="Not Placed" offset="0x04">
		<option name="Automatically" value="31"/>
		<option name="On Easy" value="30"/>
		<option name="On Normal" value="29"/>
		<option name="On Hard" value="28"/>
	</bitmask32>

	<short name="Desired Permutation" info="if non-zero, will try to use model permutations which end in this number, eg. '7' would pick 'body-7' and 'head-7'" offset="0x06"/>

	<float name="Position: x" offset="0x08"/>
	<float name="Position: y" offset="0x0C"/>
	<float name="Position: z" offset="0x10"/>
	<float name="Rotation: y" note="yaw; radians" offset="0x14"/>
	<float name="Rotation: p" note="pitch; radians" offset="0x18"/>
	<float name="Rotation: r" note="roll; radians" offset="0x1C"/>
	
	<index name="Power Group" info="sets enabled/disabled" offset="0x28" reflexive="main:Device Groups"/>
	<index name="Position Group" info="triggers activation" offset="0x2A" reflexive="main:Device Groups"/>

	<bitmask32 name="Flags 1" offset="0x2C">
		<option name="Initially Open (1.0)" value="31"/>
		<option name="Initially Off (0.0)" value="30"/>
		<option name="Can Change Only Once" value="29"/>
		<option name="Position Reversed" value="28"/>
		<option name="Not Usable From Any Side" value="27"/>
	</bitmask32>

	<bitmask32 name="Flags 2" offset="0x30">
		<option name="Usable From Both Sides" value="31"/>
	</bitmask32>

	<short name="DON'T TOUCH THIS" info="Poppycock! Sparky says, 'Experiment, Ye!'" offset="0x34"/>
</struct>

<struct name="Control Palette" offset="0x2B8" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Light Fixtures" offset="0x2C4" size="88">
	<index name="Type" offset="0x00" reflexive="main:Light Fixtures Palette"/>
	<index name="Name" offset="0x02" reflexive="main:Object Names"/>
	
	<bitmask32 name="Not Placed" offset="0x04">
		<option name="Automatically" value="31"/>
		<option name="On Easy" value="30"/>
		<option name="On Normal" value="29"/>
		<option name="On Hard" value="28"/>
	</bitmask32>

	<short name="Desired Permutation" info="if non-zero, will try to use model permutations which end in this number, eg. '7' would pick 'body-7' and 'head-7'" offset="0x06"/>

	<float name="Position: x" offset="0x08"/>
	<float name="Position: y" offset="0x0C"/>
	<float name="Position: z" offset="0x10"/>
	<float name="Rotation: y" note="yaw; radians" offset="0x14"/>
	<float name="Rotation: p" note="pitch; radians" offset="0x18"/>
	<float name="Rotation: r" note="roll; radians" offset="0x1C"/>
	
	<index name="Power Group" info="sets enabled/disabled" offset="0x28" reflexive="main:Device Groups"/>
	<index name="Position Group" info="triggers activation" offset="0x2A" reflexive="main:Device Groups"/>

	<bitmask32 name="Flags 1" offset="0x2C">
		<option name="Initially Open (1.0)" value="31"/>
		<option name="Initially Off (0.0)" value="30"/>
		<option name="Can Change Only Once" value="29"/>
		<option name="Position Reversed" value="28"/>
		<option name="Not Usable From Any Side" value="27"/>
	</bitmask32>

	<colorRGB name="Color" offset="0x30"/>
	
	<float name="Intensity" offset="0x3C"/>
	<float name="Falloff Angle" note="radians" offset="0x40"/>
	<float name="Cutoff Angle" note="radians" offset="0x44"/>
</struct>

<struct name="Light Fixtures Palette" offset="0x2D0" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Sound Scenery" offset="0x2DC" size="40">
	<index name="Type" offset="0x00" reflexive="main:Sound Scenery Palette"/>
	<index name="Name" offset="0x02" reflexive="main:Object Names"/>
	
	<bitmask32 name="Not Placed" offset="0x04">
		<option name="Automatically" value="31"/>
		<option name="On Easy" value="30"/>
		<option name="On Normal" value="29"/>
		<option name="On Hard" value="28"/>
	</bitmask32>

	<short name="Desired Permutation" info="if non-zero, will try to use model permutations which end in this number, eg. '7' would pick 'body-7' and 'head-7'" offset="0x06"/>

	<float name="Position: x" offset="0x08"/>
	<float name="Position: y" offset="0x0C"/>
	<float name="Position: z" offset="0x10"/>
	<float name="Rotation: y" note="yaw; radians" offset="0x14"/>
	<float name="Rotation: p" note="pitch; radians" offset="0x18"/>
	<float name="Rotation: r" note="roll; radians" offset="0x1C"/>
</struct>

<struct name="Sound Scenery Palette" offset="0x2E8" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Player Starting Profile" offset="0x348" size="104">
	<string32 name="Name" offset="0x00"/>

	<float name="Starting Health Modifier" note="0 - 1 only" offset="0x20"/>
	<float name="Starting Shield Modifier" note="0 - 1 only" offset="0x24"/>

	<dependency name="Primary Weapon" offset="0x28"/>

	<short name="Primary Weapon: Rounds Loaded" offset="0x38"/>
	<short name="Primary Weapon: Rounds Left" offset="0x3A"/>

	<dependency name="Secondary Weapon" offset="0x3C"/>

	<short name="Secondary Weapon: Rounds Loaded" offset="0x4C"/>
	<short name="Secondary Weapon: Rounds Left" offset="0x4E"/>

	<char name="Starting Fragmentation Grenade Count" offset="0x50"/>
	<char name="Starting Plasma Grenade Count" offset="0x51"/>
	<char name="Starting Unknown 1 Grenade Count" info="not normally used" offset="0x52"/>
	<char name="Starting Unknown 2 Grenade Count" info="not normally used" offset="0x53"/>
</struct>

<struct name="Player Starting Locations" offset="0x354" size="52">
	<float name="Position: x" offset="0x00"/>
	<float name="Position: y" offset="0x04"/>
	<float name="Position: z" offset="0x08"/>
	<float name="Facing" note="radians" offset="0x0C"/>

	<short name="Team Index" offset="0x10"/>
	<short name="BSP Index" offset="0x12"/>

	<enum16 name="Type 0" offset="0x14">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
	<enum16 name="Type 1" offset="0x16">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
	<enum16 name="Type 2" offset="0x18">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
	<enum16 name="Type 3" offset="0x1A">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
</struct>

<struct name="Trigger Volumes" offset="0x360" size="96">
	<string32 name="Name" offset="0x04"/>
</struct>

<struct name="Recorded Animations" offset="0x36C" size="64">
	<string32 name="Name" offset="0x00"/>

	<char name="Version" offset="0x20"/>
	<char name="Raw Animation Data" offset="0x21"/>

	<short name="Unit Control Data Version" offset="0x22"/>
	<short name="Length of Animation" offset="0x24"/>
	<long name="Recorded Animation Event Stream" note="bytes" offset="0x2C"/>
</struct>

<struct name="Netgame Flags" offset="0x378" size="148">
	<float name="Position: x" offset="0x00"/>
	<float name="Position: y" offset="0x04"/>
	<float name="Position: z" offset="0x08"/>
	<float name="Facing" offset="0x0C"/>

	<enum16 name="Type" offset="0x10">
		<option name="CTF - Flag" value="00"/>
		<option name="CTF - Vehicle" value="01"/>
		<option name="Oddball - Ball Spawn" value="02"/>
		<option name="Race - Track" value="03"/>
		<option name="Race - Vehicle" value="04"/>
		<option name="Vegas - Bank (not used)" value="05"/>
		<option name="Teleport From" value="06"/>
		<option name="Teleport To" value="07"/>
		<option name="Hill - Flag" value="08"/>
	</enum16>

	<short name="Team Index" offset="0x12"/>

	<dependency name="Weapon Group" offset="0x14"/>
</struct>

<struct name="Netgame Equipment" offset="0x384" size="144">
	<bitmask32 name="Flags" offset="0x00">
		<option name="Levitate" value="31"/>
	</bitmask32>

	<enum16 name="Type 0" offset="0x04">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
	<enum16 name="Type 1" offset="0x06">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
	<enum16 name="Type 2" offset="0x08">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
	<enum16 name="Type 3" offset="0x0A">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>

	<short name="Team Index" offset="0x0C"/>
	<short name="Spawn Time" note="seconds; 0 = default" offset="0x0E"/>
	
	<float name="Position: x" offset="0x40"/>
	<float name="Position: y" offset="0x44"/>
	<float name="Position: z" offset="0x48"/>
	<float name="Facing" offset="0x4C"/>
	
	<dependency name="Item Collection" offset="0x50"/>
</struct>

<struct name="Starting Equipment" offset="0x390" size="204">
	<bitmask32 name="Flags" offset="0x00">
		<option name="No Grenades" value="31"/>
		<option name="Plasma Grenades" value="30"/>
	</bitmask32>
	<enum16 name="Type 0" offset="0x04">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
	<enum16 name="Type 1" offset="0x06">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
	<enum16 name="Type 2" offset="0x08">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>
	<enum16 name="Type 3" offset="0x0A">
		<option name="none" value="00"/>
		<option name="CTF" value="01"/>
		<option name="Slayer" value="02"/>
		<option name="Oddball" value="03"/>
		<option name="King of the Hill" value="04"/>
		<option name="Race" value="05"/>
		<option name="Terminator" value="06"/>
		<option name="Stub" value="07"/>
		<option name="Ignored1" value="08"/>
		<option name="Ignored2" value="09"/>
		<option name="Ignored3" value="10"/>
		<option name="Ignored4" value="11"/>
		<option name="All Games" value="12"/>
		<option name="All Except CTF" value="13"/>
		<option name="All Except Race and CTF" value="14"/>
	</enum16>

	<dependency name="Item Collection 1" offset="0x3C"/>
	<dependency name="Item Collection 2" offset="0x4C"/>
	<dependency name="Item Collection 3" offset="0x5C"/>
	<dependency name="Item Collection 4" offset="0x6C"/>
	<dependency name="Item Collection 5" offset="0x7C"/>
	<dependency name="Item Collection 6" offset="0x8C"/>
</struct>

<struct name="BSP Switch Trigger Volumes" offset="0x39C" size="8">
	<index name="Trigger Volume" offset="0x00" reflexive="main:Trigger Volumes"/>

	<short name="Source" offset="0x02"/>
	<short name="Destination" offset="0x04"/>
</struct>

<struct name="Decals" info="note: these chunks may not be in their expected order" offset="0x3A8" size="16">
	<index name="Decal Type" offset="0x00" reflexive="main:Decal Palette"/>
	
	<int8 name="Yaw" note="-127 to 127 only" offset="0x02"/>
	<int8 name="Pitch" note="-127 to 127 only" offset="0x03"/>

	<float name="Position: x" offset="0x04"/>
	<float name="Position: y" offset="0x08"/>
	<float name="Position: z" offset="0x0C"/>
</struct>

<struct name="Decal Palette" offset="0x3B4" size="16">
	<dependency name="Reference" offset="0x00"/>
</struct>

<struct name="Detail Object Collection Palette" offset="0x3C0" size="48">
	<dependency name="Name" offset="0x00"/>
</struct>

<struct name="Actor Palette" offset="0x420" size="16">
	<dependency name="Reference" info="actv" offset="0x00"/>
</struct>

<struct name="Encounters" offset="0x42C" size="176">

	<string32 name="Name" offset="0x00"/>

	<bitmask32 name="Flags" offset="0x20">
		<option name="Not Initially Created" value="31"/>
		<option name="Respawn Enabled" value="30"/>
		<option name="Initially Blind" value="29"/>
		<option name="Initially Deaf" value="28"/>
		<option name="Initially Braindead" value="27"/>
		<option name="Firing 3D Positions" value="26"/>
		<option name="Manual BSP Index Specified" value="25"/>
	</bitmask32>

	<enum16 name="Team Index" offset="0x24">
		<option name="Default by Unit" value="0"/>
		<option name="Player" value="1"/>
		<option name="Human" value="2"/>
		<option name="Covenant" value="3"/>
		<option name="Flood" value="4"/>
		<option name="Sentinel" value="5"/>
		<option name="Unused6" value="6"/>
		<option name="Unused7" value="7"/>
		<option name="Unused8" value="8"/>
		<option name="Unused9" value="9"/>
	</enum16>

	<enum16 name="Search Behavior" offset="0x28">
		<option name="Normal" value="0"/>
		<option name="Never" value="1"/>
		<option name="Tenacious" value="2"/>
	</enum16>

	<short name="Manual BSP Index" info="Structure BSP Index that this encounter belongs to; ignored unless 'manual bsp index specified' flag is checked; if not checked, will try to find this automatically, but may fail in areas of overlapping geometry." offset="0x2A"/>

	<float name="Respawn Delay: from" note="seconds" info="delay between respawning actors in this encounter" offset="0x2C"/>
	<float name="Respawn Delay: to" note="seconds" info="delay between respawning actors in this encounter" offset="0x30"/>

	<struct name="Squads" offset="0x80" size="232">
		<string32 name="Name" offset="0x00"/>
		
		<index name="Actor Type" offset="0x20" reflexive="main:Actor Palette"/>
				
		<enum16 name="Initial State" info="state that this actor starts in" offset="0x24">
			<option name="None" value="0"/>
			<option name="Sleeping" value="1"/>
			<option name="Alert" value="2"/>
			<option name="Moving - repeating same position" value="3"/>
			<option name="Moving - loop" value="4"/>
			<option name="Moving - loop back and forth" value="5"/>
			<option name="Moving - loop randomly" value="6"/>
			<option name="Moving - randomly" value="7"/>
			<option name="Guarding" value="8"/>
			<option name="Guarding at Guard Position" value="9"/>
			<option name="Searching" value="10"/>
			<option name="Fleeing" value="11"/>
		</enum16>
	
		<enum16 name="Return State" info="state that this actor will return to when it has nothing to do" offset="0x26">
			<option name="None" value="0"/>
			<option name="Sleeping" value="1"/>
			<option name="Alert" value="2"/>
			<option name="Moving - repeating same position" value="3"/>
			<option name="Moving - loop" value="4"/>
			<option name="Moving - loop back and forth" value="5"/>
			<option name="Moving - loop randomly" value="6"/>
			<option name="Moving - randomly" value="7"/>
			<option name="Guarding" value="8"/>
			<option name="Guarding at Guard Position" value="9"/>
			<option name="Searching" value="10"/>
			<option name="Fleeing" value="11"/>
		</enum16>
	
		<bitmask32 name="Flags" offset="0x28">
			<option name="Unused" value="31"/>
			<option name="Never Search" value="30"/>
			<option name="Start Timer Immediately" value="29"/>
			<option name="No Timer, Delay Forever" value="28"/>
			<option name="Magic Sight After Timer" value="27"/>
			<option name="Automatic Migration" value="26"/>
		</bitmask32> 
	
		<enum16 name="Unique Leader Type" info="what kind of leader this squad has; Normal = based upon squad size; Random will always choose one" offset="0x2C">
			<option name="Normal" value="0"/>
			<option name="None" value="1"/>
			<option name="Random" value="2"/>
			<option name="Sgt Johnson" value="3"/>
			<option name="Sgt Lehto" value="4"/>
		</enum16>
	
		<float name="Squad Delay Time" note="seconds" offset="0x50"/>
	
		<bitmask32 name="Attacking" offset="0x54">
			<option name="A" value="31"/>
			<option name="B" value="30"/>
			<option name="C" value="29"/>
			<option name="D" value="28"/>
			<option name="E" value="27"/>
			<option name="F" value="26"/>
			<option name="G" value="25"/>
			<option name="H" value="24"/>
			<option name="I" value="23"/>
			<option name="J" value="22"/>
			<option name="K" value="21"/>
			<option name="L" value="20"/>
			<option name="M" value="19"/>
			<option name="N" value="18"/>
			<option name="O" value="17"/>
			<option name="P" value="16"/>
			<option name="Q" value="15"/>
			<option name="R" value="14"/>
			<option name="S" value="13"/>
			<option name="T" value="12"/>
			<option name="U" value="11"/>
			<option name="V" value="10"/>
			<option name="W" value="9"/>
			<option name="X" value="8"/>
			<option name="Y" value="7"/>
			<option name="Z" value="6"/>
		</bitmask32>
	
		<bitmask32 name="Attacking Search" info="careful: unreliable" offset="0x58">
			<option name="A" value="31"/>
			<option name="B" value="30"/>
			<option name="C" value="29"/>
			<option name="D" value="28"/>
			<option name="E" value="27"/>
			<option name="F" value="26"/>
			<option name="G" value="25"/>
			<option name="H" value="24"/>
			<option name="I" value="23"/>
			<option name="J" value="22"/>
			<option name="K" value="21"/>
			<option name="L" value="20"/>
			<option name="M" value="19"/>
			<option name="N" value="18"/>
			<option name="O" value="17"/>
			<option name="P" value="16"/>
			<option name="Q" value="15"/>
			<option name="R" value="14"/>
			<option name="S" value="13"/>
			<option name="T" value="12"/>
			<option name="U" value="11"/>
			<option name="V" value="10"/>
			<option name="W" value="9"/>
			<option name="X" value="8"/>
			<option name="Y" value="7"/>
			<option name="Z" value="6"/>
		</bitmask32>
		
		<bitmask32 name="Attacking Guard" offset="0x5C">
			<option name="A" value="31"/>
			<option name="B" value="30"/>
			<option name="C" value="29"/>
			<option name="D" value="28"/>
			<option name="E" value="27"/>
			<option name="F" value="26"/>
			<option name="G" value="25"/>
			<option name="H" value="24"/>
			<option name="I" value="23"/>
			<option name="J" value="22"/>
			<option name="K" value="21"/>
			<option name="L" value="20"/>
			<option name="M" value="19"/>
			<option name="N" value="18"/>
			<option name="O" value="17"/>
			<option name="P" value="16"/>
			<option name="Q" value="15"/>
			<option name="R" value="14"/>
			<option name="S" value="13"/>
			<option name="T" value="12"/>
			<option name="U" value="11"/>
			<option name="V" value="10"/>
			<option name="W" value="9"/>
			<option name="X" value="8"/>
			<option name="Y" value="7"/>
			<option name="Z" value="6"/>
		</bitmask32>
		
		
		<bitmask32 name="Defending" offset="0x60">
			<option name="A" value="31"/>
			<option name="B" value="30"/>
			<option name="C" value="29"/>
			<option name="D" value="28"/>
			<option name="E" value="27"/>
			<option name="F" value="26"/>
			<option name="G" value="25"/>
			<option name="H" value="24"/>
			<option name="I" value="23"/>
			<option name="J" value="22"/>
			<option name="K" value="21"/>
			<option name="L" value="20"/>
			<option name="M" value="19"/>
			<option name="N" value="18"/>
			<option name="O" value="17"/>
			<option name="P" value="16"/>
			<option name="Q" value="15"/>
			<option name="R" value="14"/>
			<option name="S" value="13"/>
			<option name="T" value="12"/>
			<option name="U" value="11"/>
			<option name="V" value="10"/>
			<option name="W" value="9"/>
			<option name="X" value="8"/>
			<option name="Y" value="7"/>
			<option name="Z" value="6"/>
		</bitmask32>
		
		<bitmask32 name="Defending Search (careful: unreliable)" offset="0x64">
			<option name="A" value="31"/>
			<option name="B" value="30"/>
			<option name="C" value="29"/>
			<option name="D" value="28"/>
			<option name="E" value="27"/>
			<option name="F" value="26"/>
			<option name="G" value="25"/>
			<option name="H" value="24"/>
			<option name="I" value="23"/>
			<option name="J" value="22"/>
			<option name="K" value="21"/>
			<option name="L" value="20"/>
			<option name="M" value="19"/>
			<option name="N" value="18"/>
			<option name="O" value="17"/>
			<option name="P" value="16"/>
			<option name="Q" value="15"/>
			<option name="R" value="14"/>
			<option name="S" value="13"/>
			<option name="T" value="12"/>
			<option name="U" value="11"/>
			<option name="V" value="10"/>
			<option name="W" value="9"/>
			<option name="X" value="8"/>
			<option name="Y" value="7"/>
			<option name="Z" value="6"/>
		</bitmask32>
		
		<bitmask32 name="Defending Guard" offset="0x68">
			<option name="A" value="31"/>
			<option name="B" value="30"/>
			<option name="C" value="29"/>
			<option name="D" value="28"/>
			<option name="E" value="27"/>
			<option name="F" value="26"/>
			<option name="G" value="25"/>
			<option name="H" value="24"/>
			<option name="I" value="23"/>
			<option name="J" value="22"/>
			<option name="K" value="21"/>
			<option name="L" value="20"/>
			<option name="M" value="19"/>
			<option name="N" value="18"/>
			<option name="O" value="17"/>
			<option name="P" value="16"/>
			<option name="Q" value="15"/>
			<option name="R" value="14"/>
			<option name="S" value="13"/>
			<option name="T" value="12"/>
			<option name="U" value="11"/>
			<option name="V" value="10"/>
			<option name="W" value="9"/>
			<option name="X" value="8"/>
			<option name="Y" value="7"/>
			<option name="Z" value="6"/>
		</bitmask32>
		
		<bitmask32 name="Pursuing" offset="0x6C">
			<option name="A" value="31"/>
			<option name="B" value="30"/>
			<option name="C" value="29"/>
			<option name="D" value="28"/>
			<option name="E" value="27"/>
			<option name="F" value="26"/>
			<option name="G" value="25"/>
			<option name="H" value="24"/>
			<option name="I" value="23"/>
			<option name="J" value="22"/>
			<option name="K" value="21"/>
			<option name="L" value="20"/>
			<option name="M" value="19"/>
			<option name="N" value="18"/>
			<option name="O" value="17"/>
			<option name="P" value="16"/>
			<option name="Q" value="15"/>
			<option name="R" value="14"/>
			<option name="S" value="13"/>
			<option name="T" value="12"/>
			<option name="U" value="11"/>
			<option name="V" value="10"/>
			<option name="W" value="9"/>
			<option name="X" value="8"/>
			<option name="Y" value="7"/>
			<option name="Z" value="6"/>
		</bitmask32>
	
		<short name="Normal Difficulty Count" info="initial number of actors on normal difficulty" offset="0x7C"/>
		<short name="Insane Difficulty Count" info="initial number of actors on insane difficulty; hard is midway between normal and insane" offset="0x7E"/>
		
		<enum16 name="Major Upgrade" offset="0x80">
			<option name="Normal" value="0"/>
			<option name="Few" value="1"/>
			<option name="Many" value="2"/>
			<option name="None" value="3"/>
			<option name="All" value="4"/>
		</enum16>
	
		<short name="Respawn Minimum Actors" info="must be at least this many actors alive at once, else will instantly respawn more" offset="0x84"/>
		<short name="Respawn Maximum Actors" info="there will never be more than this many actors alive at once" offset="0x86"/>
		<short name="Respawn Total" info="0 = infinite; total number to respawn" offset="0x88"/>
	
		<float name="Respawn Delay: from" note="seconds" info="delay between respawning actors in this squad" offset="0x8C"/>
		<float name="Respawn Delay: to" note="seconds" info="delay between respawning actors in this squad" offset="0x90"/>
	
		<struct name="Move Positions" offset="0xC4" size="80">
			<float name="Position: x" offset="0x00"/>
			<float name="Position: y" offset="0x04"/>
			<float name="Position: z" offset="0x08"/>
			<float name="Facing" note="radians" offset="0x0C"/>
			<float name="Weight" offset="0x10"/>
			<float name="Time: from" note="seconds" offset="0x14"/>
			<float name="Time: to" note="seconds" offset="0x18"/>
			
			<index name="Animations" offset="0x1C" reflexive="main:AI Animation References"/>
		
			<char name="Sequence ID" info="0 = no sequence; identifies this move position as belonging to a sequence; only actors whose starting locations match this sequence can use it" offset="0x1E"/>
			
			<long name="Surface Index" offset="0x4C"/>
		</struct>
	
		<struct name="Starting Locations" offset="0xD0" size="28">
			<float name="Position: x" offset="0x00"/>
			<float name="Position: y" offset="0x04"/>
			<float name="Position: z" offset="0x08"/>
			<float name="Facing" note="radians" offset="0x0C"/>
		
			<char name="Sequence ID" info="0 = no specific sequences; which move position sequence we can use" offset="0x12"/>
		
			<bitmask8 name="Flags" offset="0x13">
				<option name="Required" value="7"/>
			</bitmask8>
			
			<enum16 name="Return  State" offset="0x14">
				<option name="None" value="0"/>
				<option name="Sleeping" value="1"/>
				<option name="Alert" value="2"/>
				<option name="Moving - repeating same position" value="3"/>
				<option name="Moving - loop" value="4"/>
				<option name="Moving - loop back and forth" value="5"/>
				<option name="Moving - loop randomly" value="6"/>
				<option name="Moving - randomly" value="7"/>
				<option name="Guarding" value="8"/>
				<option name="Guarding at Guard Position" value="9"/>
				<option name="Searching" value="10"/>
				<option name="Fleeing" value="11"/>
			</enum16>
		
			<enum16 name="Initial State" offset="0x16">
				<option name="None" value="0"/>
				<option name="Sleeping" value="1"/>
				<option name="Alert" value="2"/>
				<option name="Moving - repeating same position" value="3"/>
				<option name="Moving - loop" value="4"/>
				<option name="Moving - loop back and forth" value="5"/>
				<option name="Moving - loop randomly" value="6"/>
				<option name="Moving - randomly" value="7"/>
				<option name="Guarding" value="8"/>
				<option name="Guarding at Guard Position" value="9"/>
				<option name="Searching" value="10"/>
				<option name="Fleeing" value="11"/>
			</enum16>
			
			<index name="Actor Type" offset="0x18" reflexive="main:Actor Palette"/>
			<index name="Command List" offset="0x1A" reflexive="main:Command Lists"/>
		</struct>
	</struct>

	<struct name="Platoons" offset="0x8C" size="172">
		<string32 name="Name" offset="0x00"/>
		
		<bitmask32 name="Flags" offset="0x20">
			<option name="Flee When Maneuvering" value="31"/>
			<option name="Say 'Advancing' When Maneuvering" value="30"/>
			<option name="Start in Defending State" value="29"/>
		</bitmask32>
		
		<enum16 name="Change Attacking or Defending Status When..." offset="0x30">
			<option name="(Never)" value="0"/>
			<option name="Less than three quarters Strength" value="1"/>
			<option name="Less than half Strength" value="2"/>
			<option name="Less than one quarter Strength" value="3"/>
			<option name="Anybody is Dead" value="4"/>
			<option name="one quarter are Dead" value="5"/>
			<option name="half are Dead" value="6"/>
			<option name="three quarters are Dead" value="7"/>
			<option name="All but one is Dead" value="8"/>
			<option name="All are Dead" value="9"/>
		</enum16>
		
		<enum16 name="Maneuver When..." offset="0x3C">
			<option name="(Never)" value="0"/>
			<option name="Less than three quarters Strength" value="1"/>
			<option name="Less than half Strength" value="2"/>
			<option name="Less than one quarter Strength" value="3"/>
			<option name="Anybody is Dead" value="4"/>
			<option name="one quarter are Dead" value="5"/>
			<option name="half are Dead" value="6"/>
			<option name="three quarters are Dead" value="7"/>
			<option name="All but one is Dead" value="8"/>
			<option name="All are Dead" value="9"/>
		</enum16>
		
	</struct>

	<struct name="Firing Positions" offset="0x98" size="24">
		<float name="Position: x" offset="0x00"/>
		<float name="Position: y" offset="0x04"/>
		<float name="Position: z" offset="0x08"/>
		
		<enum16 name="Group Index" offset="0x0C">
			<option name="A" value="0"/>
			<option name="B" value="1"/>
			<option name="C" value="2"/>
			<option name="D" value="3"/>
			<option name="E" value="4"/>
			<option name="F" value="5"/>
			<option name="G" value="6"/>
			<option name="H" value="7"/>
			<option name="I" value="8"/>
			<option name="J" value="9"/>
			<option name="K" value="10"/>
			<option name="L" value="11"/>
			<option name="M" value="12"/>
			<option name="N" value="13"/>
			<option name="O" value="14"/>
			<option name="P" value="15"/>
			<option name="Q" value="16"/>
			<option name="R" value="17"/>
			<option name="S" value="18"/>
			<option name="T" value="19"/>
			<option name="U" value="20"/>
			<option name="V" value="21"/>
			<option name="W" value="22"/>
			<option name="X" value="23"/>
			<option name="Y" value="24"/>
			<option name="Z" value="25"/>
		</enum16>
	</struct>

	<struct name="Player Starting Locations" offset="0xA4" size="52">
		<float name="Position: x" offset="0x00"/>
		<float name="Position: y" offset="0x04"/>
		<float name="Position: z" offset="0x08"/>
		<float name="Facing" note="radians" offset="0x0C"/>
		
		<short name="Team Index" offset="0x10"/>
		<short name="BSP Index" offset="0x12"/>
		
		<enum16 name="Type 0" offset="0x14">
			<option name="none" value="00"/>
			<option name="CTF" value="01"/>
			<option name="Slayer" value="02"/>
			<option name="Oddball" value="03"/>
			<option name="King of the Hill" value="04"/>
			<option name="Race" value="05"/>
			<option name="Terminator" value="06"/>
			<option name="Stub" value="07"/>
			<option name="Ignored1" value="08"/>
			<option name="Ignored2" value="09"/>
			<option name="Ignored3" value="10"/>
			<option name="Ignored4" value="11"/>
			<option name="All Games" value="12"/>
			<option name="All Except CTF" value="13"/>
			<option name="All Except Race and CTF" value="14"/>
		</enum16>
		
		<enum16 name="Type 1" offset="0x16">
			<option name="none" value="00"/>
			<option name="CTF" value="01"/>
			<option name="Slayer" value="02"/>
			<option name="Oddball" value="03"/>
			<option name="King of the Hill" value="04"/>
			<option name="Race" value="05"/>
			<option name="Terminator" value="06"/>
			<option name="Stub" value="07"/>
			<option name="Ignored1" value="08"/>
			<option name="Ignored2" value="09"/>
			<option name="Ignored3" value="10"/>
			<option name="Ignored4" value="11"/>
			<option name="All Games" value="12"/>
			<option name="All Except CTF" value="13"/>
			<option name="All Except Race and CTF" value="14"/>
		</enum16>
		
		<enum16 name="Type 2" offset="0x18">
			<option name="none" value="00"/>
			<option name="CTF" value="01"/>
			<option name="Slayer" value="02"/>
			<option name="Oddball" value="03"/>
			<option name="King of the Hill" value="04"/>
			<option name="Race" value="05"/>
			<option name="Terminator" value="06"/>
			<option name="Stub" value="07"/>
			<option name="Ignored1" value="08"/>
			<option name="Ignored2" value="09"/>
			<option name="Ignored3" value="10"/>
			<option name="Ignored4" value="11"/>
			<option name="All Games" value="12"/>
			<option name="All Except CTF" value="13"/>
			<option name="All Except Race and CTF" value="14"/>
		</enum16>
		
		<enum16 name="Type 3" offset="0x1A">
			<option name="none" value="00"/>
			<option name="CTF" value="01"/>
			<option name="Slayer" value="02"/>
			<option name="Oddball" value="03"/>
			<option name="King of the Hill" value="04"/>
			<option name="Race" value="05"/>
			<option name="Terminator" value="06"/>
			<option name="Stub" value="07"/>
			<option name="Ignored1" value="08"/>
			<option name="Ignored2" value="09"/>
			<option name="Ignored3" value="10"/>
			<option name="Ignored4" value="11"/>
			<option name="All Games" value="12"/>
			<option name="All Except CTF" value="13"/>
			<option name="All Except Race and CTF" value="14"/>
		</enum16>
	</struct>
</struct>

<struct name="Command Lists" offset="0x438" size="96">
	<string32 name="Name" offset="0x00"/>
	
	<bitmask32 name="flags" offset="0x20">
		<option name="Allow Initiative" value="31"/>
		<option name="Allow Targeting" value="30"/>
		<option name="Disable Looking" value="29"/>
		<option name="Disable Communication" value="28"/>
		<option name="Disable Falling Damage" value="27"/>
		<option name="Manual BSP Index" value="26"/>
	</bitmask32>
	
	<short name="Manual BSP Index" info="Structure BSP Index that this encounter belongs to; ignored unless 'manual bsp index specified' flag is checked; if not checked, will try to find this automatically, but may fail in areas of overlapping geometry." offset="0x2C"/>
	
	<struct name="Commands" offset="0x30" size="32">
		<enum16 name="Atom Type" offset="0x00">
			<option name="Pause" value="00"/>
			<option name="Go To" value="01"/>
			<option name="Go To and Face" value="02"/>
			<option name="Move in Direction" value="03"/>
			<option name="Look" value="04"/>
			<option name="Animation Mode" value="05"/>
			<option name="Crouch" value="06"/>
			<option name="Shoot" value="07"/>
			<option name="Grenade" value="08"/>
			<option name="Vehicle" value="09"/>
			<option name="Running Jump" value="10"/>
			<option name="Targeted Jump" value="11"/>
			<option name="Script" value="12"/>
			<option name="Animate" value="13"/>
			<option name="Recording" value="14"/>
			<option name="Action" value="15"/>
			<option name="Vocalize" value="16"/>
			<option name="Targeting" value="17"/>
			<option name="Initiatave" value="18"/>
			<option name="Wait" value="19"/>
			<option name="Loop" value="20"/>
			<option name="Die" value="21"/>
			<option name="Move Immediate" value="22"/>
			<option name="Look Random" value="23"/>
			<option name="Look Player" value="24"/>
			<option name="Look Object" value="25"/>
			<option name="Set Radius" value="26"/>
			<option name="Teleport" value="27"/>
		</enum16>
		
		<short name="Atom Modifier" offset="0x02"/>
		
		<float name="Parameter 1" offset="0x04"/>
		<float name="Parameter 2" offset="0x08"/>
		
		<index name="Animation" offset="0x10" reflexive="main:AI Animation References"/>
		<index name="Script" offset="0x12" reflexive="main:Scripts"/>
		<index name="Recording" offset="0x14" reflexive="main:AI Recording References"/>
		
		<index name="Object Name" offset="0x18" reflexive="main:Object Names"/>
	</struct>

	<struct name="Points" offset="0x3C" size="20">
		<float name="Position: x" offset="0x00"/>
		<float name="Position: y" offset="0x04"/>
		<float name="Position: z" offset="0x08"/>
	</struct>
</struct>

<struct name="AI Animation References" offset="0x444" size="60">
	<string32 name="Animation Name" offset="0x00"/>
	
	<dependency name="Animation Graph" offset="0x20"/>
</struct>

<struct name="AI Script References" offset="0x450" size="40">
	<string32 name="Script Name" offset="0x00"/>
</struct>

<struct name="AI Recording References" offset="0x45C" size="40">
	<string32 name="Recording Name" offset="0x00"/>
</struct>

<struct name="AI Conversations" offset="0x468" size="116">
	<string32 name="Name" offset="0x00"/>
	
	<bitmask32 name="Flags" offset="0x20">
		<option name="Stop if Death" info="actor aborts if any participant dies" value="31"/>
		<option name="Stop if Damaged" info="actor aborts if he's damaged" value="30"/>
		<option name="Stop if Visible Enemy" info="actor aborts if they see an enemy" value="29"/>
		<option name="Stop if Alerted to Enemy" info="actor aborts if they suspect an enemy" value="28"/>
		<option name="Player Must Be Visible" info="only when they can SEE an enemy" value="27"/>
		<option name="Stop Other Actions" info="stop to chat" value="26"/>
		<option name="Keep Trying to Play" info="if fails initially, will keep testing to see when it can play" value="25"/>
		<option name="Player Must Be Looking" info="only starts when player looks at a participant" value="24"/>
	</bitmask32>
	
	<float name="Trigger Distance" note="world units" info="player must be this far away before conversation can trigger" offset="0x24"/>
	<float name="Run-to-Player Distance" note="world units" info="if 'involves player' flag is set, conversation participants will run this close to the player before speaking" offset="0x28"/>

	<struct name="Participants" offset="0x50" size="84">
		<bitmask32 name="Flags" offset="0x02">
			<option name="Optional" info="conversation can continue without participants" value="31"/>
			<option name="Has Alternate" info="if nobody found, use what's flagged 'is alternate', ie. radio chatter" value="30"/>
			<option name="Is Alternate" info="only used if someone 'has alternate'" value="29"/>
		</bitmask32>
		
		<enum16 name="Selection Type" offset="0x04">
			<option name="Friendly Actor" value="0"/>
			<option name="Disembodied" value="1"/>
			<option name="In Player's Vehicle" value="2"/>
			<option name="Not In a Vehicle" value="3"/>
			<option name="Prefer Sergeant" value="4"/>
			<option name="Any Actor" value="5"/>
			<option name="Radio Unit" value="6"/>
			<option name="Radio Sergeant" value="7"/>
		</enum16>
		
		<enum16 name="Actor Type" offset="0x06">
			<option name="Elite" value="00"/>
			<option name="Jackal" value="01"/>
			<option name="Grunt" value="02"/>
			<option name="Hunter" value="03"/>
			<option name="Engineer" value="04"/>
			<option name="Assassin" value="05"/>
			<option name="Player" value="06"/>
			<option name="Marine" value="07"/>
			<option name="Crew" value="08"/>
			<option name="Combat Form" value="09"/>
			<option name="Infection Form" value="10"/>
			<option name="Carrier Form" value="11"/>
			<option name="Monitor" value="12"/>
			<option name="Sentinel" value="13"/>
			<option name="None" value="14"/>
			<option name="Mounted Weapon" value="15"/>
		</enum16>
		
		<index name="Use This Object" info="if a unit with this name exists, we try to pick them to start the conversation" offset="0x08" reflexive="main:Object Names"/>
		<index name="Set New Name" info="once we pick a unit, we name it this" offset="0x0A" reflexive="main:Object Names"/>
		
		<string32 name="Encounter Name" offset="0x24"/>
	</struct>

	<struct name="Lines" offset="0x5C" size="124">
		<bitmask32 name="Flags" offset="0x00">
			<option name="Addressee Look at Speaker" value="31"/>
			<option name="Everyone Look at Speaker" value="30"/>
			<option name="Everyone Look at Addressee" value="29"/>
			<option name="Wait Until Told to Advance" value="28"/>
			<option name="Wait Until Speaker Nearby" value="27"/>
			<option name="Wait Until Everyone Nearby" value="26"/>
		</bitmask32>
		
		<enum16 name="Addressee" offset="0x04">
			<option name="None" value="0"/>
			<option name="Player" value="1"/>
			<option name="Participant" value="2"/>
		</enum16>
		
		<float name="Line Delay Time" offset="0x0C"/>
		
		<dependency name="Variant 1" offset="0x1C"/>
		<dependency name="Variant 2" offset="0x2C"/>
		<dependency name="Variant 3" offset="0x3C"/>
		<dependency name="Variant 4" offset="0x4C"/>
		<dependency name="Variant 5" offset="0x5C"/>
		<dependency name="Variant 6" offset="0x6C"/>
	</struct>
</struct>

<long name="Script Syntax Data" note="bytes" offset="0x474"/>
<long name="Script String Data" note="bytes" offset="0x488"/>

<struct name="Scripts" offset="0x49C" size="92">
	<string32 name="Name" offset="0x00"/>
	
	<enum16 name="Script Type" offset="0x20">
		<option name="Startup" value="0"/>
		<option name="Dormant" value="1"/>
		<option name="Continuous" value="2"/>
		<option name="Static" value="3"/>
		<option name="Stub" value="4"/>
	</enum16>
	
	<enum16 name="Return Type" offset="0x22">
		<option name="Unparsed" value="0"/>
		<option name="Special Form" value="1"/>
		<option name="Function Name" value="2"/>
		<option name="Passthrough" value="3"/>
		<option name="Void" value="4"/>
		<option name="Boolean" value="5"/>
		<option name="Real" value="6"/>
		<option name="Short" value="7"/>
		<option name="Long" value="8"/>
		<option name="String" value="9"/>
		<option name="Script" value="10"/>
		<option name="Trigger Volume" value="11"/>
		<option name="Cutscene Flag" value="12"/>
		<option name="Cutscene Camera Point" value="13"/>
		<option name="Cutscene Title" value="14"/>
		<option name="Cutscene Recording" value="15"/>
		<option name="Device Group" value="16"/>
		<option name="AI" value="17"/>
		<option name="AI Command List" value="18"/>
		<option name="Starting Profile" value="19"/>
		<option name="Conversation" value="20"/>
		<option name="Navpoint" value="21"/>
		<option name="HUD Message" value="22"/>
		<option name="Object List" value="23"/>
		<option name="Sound" value="24"/>
		<option name="Effect" value="25"/>
		<option name="Damage" value="26"/>
		<option name="Looping Sound" value="27"/>
		<option name="Animation Graph" value="28"/>
		<option name="Actor Variant" value="29"/>
		<option name="Damage Effect" value="30"/>
		<option name="Object Definition" value="31"/>
		<option name="Game Difficulty" value="32"/>
		<option name="Team" value="33"/>
		<option name="AI Default State" value="34"/>
		<option name="Actor Type" value="35"/>
		<option name="HUD Corner" value="36"/>
		<option name="Object" value="37"/>
		<option name="Unit" value="38"/>
		<option name="Vehicle" value="39"/>
		<option name="Weapon" value="40"/>
		<option name="Device" value="41"/>
		<option name="Scenery" value="42"/>
		<option name="Object Name" value="43"/>
		<option name="Unit Name" value="44"/>
		<option name="Vehicle Name" value="45"/>
		<option name="Weapon Name" value="46"/>
		<option name="Device Name" value="47"/>
		<option name="Scenery Name" value="48"/>
	</enum16>
	
	<long name="Root Expression Index" offset="0x24"/>
</struct>

<struct name="Globals" offset="0x4A8" size="92">
	<string32 name="Name" offset="0x00"/>
	
	<enum16 name="Type" offset="0x20">
		<option name="Unparsed" value="0"/>
		<option name="Special Form" value="1"/>
		<option name="Function Name" value="2"/>
		<option name="Passthrough" value="3"/>
		<option name="Void" value="4"/>
		<option name="Boolean" value="5"/>
		<option name="Real" value="6"/>
		<option name="Short" value="7"/>
		<option name="Long" value="8"/>
		<option name="String" value="9"/>
		<option name="Script" value="10"/>
		<option name="Trigger Volume" value="11"/>
		<option name="Cutscene Flag" value="12"/>
		<option name="Cutscene Camera Point" value="13"/>
		<option name="Cutscene Title" value="14"/>
		<option name="Cutscene Recording" value="15"/>
		<option name="Device Group" value="16"/>
		<option name="AI" value="17"/>
		<option name="AI Command List" value="18"/>
		<option name="Starting Profile" value="19"/>
		<option name="Conversation" value="20"/>
		<option name="Navpoint" value="21"/>
		<option name="HUD Message" value="22"/>
		<option name="Object List" value="23"/>
		<option name="Sound" value="24"/>
		<option name="Effect" value="25"/>
		<option name="Damage" value="26"/>
		<option name="Looping Sound" value="27"/>
		<option name="Animation Graph" value="28"/>
		<option name="Actor Variant" value="29"/>
		<option name="Damage Effect" value="30"/>
		<option name="Object Definition" value="31"/>
		<option name="Game Difficulty" value="32"/>
		<option name="Team" value="33"/>
		<option name="AI Default State" value="34"/>
		<option name="Actor Type" value="35"/>
		<option name="HUD Corner" value="36"/>
		<option name="Object" value="37"/>
		<option name="Unit" value="38"/>
		<option name="Vehicle" value="39"/>
		<option name="Weapon" value="40"/>
		<option name="Device" value="41"/>
		<option name="Scenery" value="42"/>
		<option name="Object Name" value="43"/>
		<option name="Unit Name" value="44"/>
		<option name="Vehicle Name" value="45"/>
		<option name="Weapon Name" value="46"/>
		<option name="Device Name" value="47"/>
		<option name="Scenery Name" value="48"/>
	</enum16>
	
	<long name="Initialization Expression Index" offset="0x28"/>
</struct>

<struct name="References" offset="0x4B4" size="40">
	<dependency name="Reference" info="custom object names" offset="0x18"/>
</struct>

<struct name="Cutscene Flags" offset="0x4E4" size="92">
	<string32 name="Name" offset="0x04"/>
	
	<float name="Position: x" offset="0x24"/>
	<float name="Position: y" offset="0x28"/>
	<float name="Position: z" offset="0x2C"/>
	<float name="Facing: y" note="yaw" offset="0x30"/>
	<float name="Facing: p" note="pitch" offset="0x34"/>
</struct>

<struct name="Cutscene Camera Points" offset="0x4F0" size="104">
	<string32 name="Name" offset="0x04"/>
	
	<float name="Position: x" offset="0x28"/>
	<float name="Position: y" offset="0x2C"/>
	<float name="Position: z" offset="0x30"/>
	<float name="Orientation: y" note="yaw" offset="0x34"/>
	<float name="Orientation: p" note="pitch" offset="0x38"/>
	<float name="Orientation: r" note="roll" offset="0x3C"/>
	<float name="Field of View" note="radians" offset="0x40"/>
</struct>

<struct name="Cutscene Titles" offset="0x4FC" size="96">
	<string32 name="Name" offset="0x04"/>
	
	<short name="Text Bounds (on screen): t" note="top" offset="0x28"/>
	<short name="Text Bounds (on screen): l" note="left" offset="0x2A"/>
	<short name="Text Bounds (on screen): b" note="bottom" offset="0x2C"/>
	<short name="Text Bounds (on screen): r" note="right" offset="0x2E"/>
	<short name="String Index" offset="0x30"/>
	
	<enum16 name="Justification" offset="0x34">
		<option name="Left" value="0"/>
		<option name="Right" value="1"/>
		<option name="Center" value="2"/>
	</enum16>
	
	<colorbyte name="Text Color" offset="0x3C"/>
	<colorbyte name="Shadow Color" offset="0x40"/>
	
	<float name="Fade In Time" note="entered number ÷ 30 = count in seconds" offset="0x44"/>
	<float name="Up Time" note="entered number ÷ about 57 = count in seconds" offset="0x48"/>
	<float name="Fade Out Time" note="entered number ÷ 30 = count in seconds" offset="0x4C"/>
</struct>

<dependency name="Custom Object Names" offset="0x574"/>
<dependency name="Ingame Help Text" offset="0x584"/>
<dependency name="HUD Messages" offset="0x594"/>

<struct name="Structure BSPS" offset="0x5A4" size="32">
	<int32 name="BSP start" offset="0x00"/>
	<int32 name="BSP size" offset="0x04"/>
	<int32 name="BSP magic" offset="0x08"/>
	<dependency name="Structure BSP" offset="0x10"/>
</struct>
</plugin>